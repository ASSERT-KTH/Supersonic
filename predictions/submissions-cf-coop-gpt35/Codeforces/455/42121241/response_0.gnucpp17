int ans = 0;
int i = 0;
for (; i + 3 < p; i += 4) {
  ans += (A[i] == x) + (A[i + 1] == x) + (A[i + 2] == x) + (A[i + 3] == x);
}
for (; i < p; i++) {
  ans += A[i] == x;
}