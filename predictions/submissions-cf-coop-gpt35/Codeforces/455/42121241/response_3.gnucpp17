struct dat {
  static int n;
  vector<int> A;
  vector<pair<int, int>> M;
  dat* next = nullptr;

  // ... rest of the code
};