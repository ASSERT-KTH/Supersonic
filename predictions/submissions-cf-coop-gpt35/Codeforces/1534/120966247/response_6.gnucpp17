// Replace the fixed-size array with a dynamically allocated vector
vector<int> a(n + 1);