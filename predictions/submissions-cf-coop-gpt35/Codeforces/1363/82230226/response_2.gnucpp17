Code Analysis:
- The code uses the C++ standard library extensively, including the `<bits/stdc++.h>` header, which includes all other standard headers. This can lead to slower compilation times and unnecessary memory usage. It is better to include only the necessary headers.
- The `max` and `min` macros are defined, but they are not used in the code. These macros can be removed to avoid any potential conflicts or confusion.
- The `init()` function is used to clear the `adj` vector, but it is called before each test case, which is unnecessary. The `adj` vector can be cleared directly inside the main loop.
- The `adj` vector is an array of vectors, where each element represents a node and contains a vector of its adjacent nodes. This is a memory-intensive data structure, as it requires additional memory for each vector. A more memory-efficient alternative would be to use an adjacency list represented as a vector of pairs or a vector of sets.
- The code reads input from a file using `freopen()`. While this is convenient for testing, it can slow down the program. It is better to read input directly from `std::cin`.