#include <iostream>
#include <vector>
#include <map>
#include <set>
#include <algorithm>
#include <climits>

using std::vector;
using std::map;
using std::pair;
using std::set;
using std::ostream;

using ll = long long;
using pll = pair<ll, ll>;
using pii = pair<int, int>;
using vi = vector<int>;

const int N = 6e5 + 5;

vector<pll> v;
map<ll, int> mp;
vector<ll> inv_map(N);
int n, k;
vi segtree(4 * N, 0), lazy(4 * N, 0);

// ... rest of the code ...
