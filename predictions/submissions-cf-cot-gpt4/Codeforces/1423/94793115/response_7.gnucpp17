#include <iostream>
#include <vector>
#include <tuple>

using namespace std;

struct SegTree {
    vector<int> sand, sor, lazy;
    int n;
    SegTree(int n_) {
        n = n_;
        sand.assign(2 * n, 0);
        sor.assign(2 * n, 0);
        lazy.assign(2 * n, 0);
    }
    // other methods remain the same
};

int main() {
    ios_base::sync_with_stdio(false);
    cin.tie(NULL);
    int k, q;
    scanf("%d %d", &k, &q);
    int n = 1 << k, mask = (1 << k) - 1;
    SegTree low(n), hig(n);
    vector<tuple<int, int, int>> cons;
    for (int i = 0; i < q; ++i) {
        int l, r, v;
        scanf("%d %d %d", &l, &r, &v);
        // the rest of the code remains the same
    }
    // the rest of the code remains the same
    return 0;
}