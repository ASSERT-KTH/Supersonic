#include <vector>
#include <iostream>
#include <tuple>

using namespace std;

struct SegTree {
  vector<int> sand, sor, lazy;
  int n;
  SegTree(int n_) : n(n_), sand(n * 2, 0), sor(n * 2, 0), lazy(n * 2, 0) { }

  // ... Rest of the code remains same ...
};

int main() {
  int k, q;
  cin >> k >> q;
  int n = 1 << k, mask = (1 << k) - 1;
  SegTree low(n), hig(n);
  vector<tuple<long long, long long, int>> cons;
  
  // ... Rest of the code remains same ...
}